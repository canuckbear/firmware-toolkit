# This Ansible managed file and has been automatically generated on {{ ansible_date_time.date }} {{ ansible_date_time.time }}
# during deployment of role {{ role_name }} to host {{ ansible_host }}

# Therefore, please do not edit this file by hand. You should instead update the inventory
# and redeploy roles on {{ ansible_host }}. When being redeployed by ansible-playbook, managed
# files will be overriden. Thus, any local and manual modification will be lost.
# It's up to the sysadmin to update the inventory files first.
# New variables declared in inventory will be added, undeclared ones (or no longer declared) removed.

# You can access documentation on the content of this file by running man interfaces(5)

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback

{% if dft_network_interfaces %}
{% for interface in dft_network_interfaces %}
# Definition of interface {{ interface.name }}
{% if interface.comment is defined %}
# {{ interface.comment }}
{% endif %}
{% if interface.auto is defined and interface.auto %}
auto {{ interface.name }}
{% endif %}
{% if interface.allow_hotplug is defined and interface.allow_hotplug %}
allow-hotplug {{ interface.name }}
{% endif %}
{% if interface.dhcp is defined and interface.dhcp %}
iface {{ interface.name }} inet dhcp
{% else %}
iface {{ interface.name }} inet static
{% if interface.address is defined %}
    address   {{ interface.address }}
{% endif %}
{% if interface.network is defined %}
    network   {{ interface.network }}
{% endif %}
{% if interface.gateway is defined %}
    gateway   {{ interface.gateway }}
{% endif %}
{% if interface.vlan_raw_device is defined %}
    vlan-raw-device {{ interface.vlan_raw_device }}
{% endif %}
{% endif %}
{% if interface.wpa_ssid is defined %}
    wpa-ssid    {{ interface.wpa_ssid }}
{% endif %}
{% if interface.wpa_psk is defined %}
    wpa-psk     {{ interface.wpa_psk }}
{% endif %}

{% endfor %}
{% endif %}
