# This Ansible managed file and has been automatically generated on {{ ansible_date_time.date }} {{ ansible_date_time.time }}
# during deployment of role {{ role_name }} to host {{ ansible_host }}

# Therefore, please do not edit this file by hand. You should instead update the inventory
# and redeploy roles on {{ ansible_host }}. When being redeployed by ansible-playbook, managed
# files will be overriden. Thus, any local and manual modification will be lost.
# It's up to the sysadmin to update the inventory files first.
# New variables declared in inventory will be added, undeclared ones (or no longer declared) removed.

# You can access documentation on the content of this file by running man ntp.conf

driftfile /var/lib/ntp/ntp.drift

# Enable this if you want statistics to be logged.
statsdir /var/log/ntpstats/

statistics loopstats peerstats clockstats
filegen loopstats file loopstats type day enable
filegen peerstats file peerstats type day enable
filegen clockstats file clockstats type day enable

# pool.ntp.org maps to about 1000 low-stratum NTP servers.  Your server will
# pick a different set every time it starts up.  Please consider joining the
# pool: <http://www.pool.ntp.org/join.html>
{% for server in dft_ntp_servers %}
server {{ server }} iburst
{% endfor %}

# By default, exchange time with everybody, but don't allow configuration.
restrict -4 default kod notrap nomodify nopeer noquery
restrict -6 default kod notrap nomodify nopeer noquery

# Local users may interrogate the ntp server more closely.
restrict 127.0.0.1
restrict ::1
