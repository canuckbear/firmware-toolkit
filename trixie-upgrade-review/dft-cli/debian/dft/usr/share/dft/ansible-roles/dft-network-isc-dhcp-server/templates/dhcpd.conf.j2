# This Ansible managed file and has been automatically generated on {{ ansible_date_time.date }} {{ ansible_date_time.time }}
# during deployment of role {{ role_name }} to host {{ ansible_host }}

# Therefore, please do not edit this file by hand. You should instead update the inventory
# and redeploy roles on {{ ansible_host }}. When being redeployed by ansible-playbook, managed
# files will be overriden. Thus, any local and manual modification will be lost.
# It's up to the sysadmin to update the inventory files first.
# New variables declared in inventory will be added, undeclared ones (or no longer declared) removed.

# You can access documentation on the content of this file by running man dhcpd.conf

{% if dft_network_isc_dhcp_server.dhcpd.subnets is defined %}
{% for subnet in dft_network_isc_dhcp_server.dhcpd.subnets %}
subnet {{ subnet.address }} netmask {{ subnet.netmask }} {
{% if subnet.domain_name is defined %}
option  domain-name "{{ subnet.domain_name }}";
{% endif %}
{% if subnet.domain_name_servers is defined %}
option  domain-name-servers {{ subnet.domain_name_servers }};
{% endif %}
{% if subnet.broadcast_address is defined %}
option  broadcast-address {{ subnet.broadcast_address }};
{% endif %}
{% if subnet.default_lease_time is defined %}
default-lease-time {{ subnet.default_lease_time }};
{% endif %}
{% if subnet.routers is defined %}
option routers {{ subnet.routers }};
{% endif %}
{% if subnet.subnet_mask is defined %}
option subnet-mask {{ subnet.subnet_mask }};
{% endif %}
{% if subnet.ntp_servers is defined %}
option ntp-servers {{ subnet.ntp_servers }};
{% endif %}
{% if subnet.log_facility is defined %}
log-facility {{ subnet.log_facility }};
{% endif %}
{% if subnet.range is defined %}
range {{ subnet.range }};
{% endif %}

{% if subnet.use_host_decl_names is defined %}
use-host-decl-names {{ subnet.use_host_decl_names }};
{% endif %}
{% if subnet.hosts is defined %}
{% for host in subnet.hosts %}
{% if host.comment is defined %}
# {{ host.comment }}
{% endif %}
host {{ host.name }} {
{% if host.mac_address is defined %}
  hardware ethernet {{ host.mac_address }};
{% endif %}
{% if host.fixed_address is defined %}
  fixed-address {{ host.fixed_address }};
{% endif %}
}
{% endfor %}
{% endif %}
}

{% endfor %}
{% endif %}
